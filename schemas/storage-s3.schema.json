{
    "title": "Storage manifest (S3)",
    "type": "object",
    "required": ["signer", "type", "container_path", "url", "credentials"],
    "properties": {
        "signer": { "$ref": "types.json#fingerprint" },
        "type": { "const": "s3" },
        "container_path": { "$ref": "types.json#abs_path" },
        "read_only": { "type": "boolean" },
        "url": {
            "type": "string",
            "description": "S3 URL, in the s3://bucket/path format",
            "pattern": "^s3://.*$"
        },
        "credentials": {
            "type": "object",
            "required": ["access_key", "secret_key"],
            "properties": {
                "access_key": {"type": "string"},
                "secret_key": {"type": "string"}
            },
            "additionalProperties": false
        }
    },
    "additionalProperties": false
}
