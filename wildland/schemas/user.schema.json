{
    "title": "User manifest",
    "type": "object",
    "required": ["object", "owner", "paths", "pubkeys", "version"],
    "properties": {
        "object": { "const": "user" },
        "version": { "$ref": "/schemas/types.json#version"},
        "owner": { "$ref": "/schemas/types.json#fingerprint" },
        "paths": {
            "type": "array",
            "items": { "$ref": "/schemas/types.json#abs-path" },
            "minItems": 1,
            "description": "list of paths for this user"
        },
        "pubkeys": {
            "type": "array",
            "items": { "type": "string" },
            "description": "public keys of the user (can include extra keys; the user manifest itself needs to be signed with the main key anyway)"
        },
        "containers": {
            "type": "array",
            "items": { "$ref": "/schemas/types.json#url" },
            "description": "deprecated alias for infrastructures"
        },
        "infrastructures": {
            "type": "array",
            "items": {
                "oneOf": [
                    { "$ref": "/schemas/types.json#url" },
                    { "$ref": "/schemas/container.schema.json" }
                ]
            },
            "description": "list of container URLs (for finding this user's manifests); can also contain inline containers"
        }
    },
    "additionalProperties": false
}
